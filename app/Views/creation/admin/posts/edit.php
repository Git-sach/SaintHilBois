<link rel="stylesheet" href="style/creation/admin/posts/edit.css">

<div class="contentCreationEdit">
    <div class="title">
        <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.16667 16.7917H12.9167C13.2592 16.7917 13.5878 16.6556 13.83 16.4133C14.0722 16.1711 14.2083 15.8426 14.2083 15.5V5.16667C14.2083 4.8241 14.0722 4.49555 13.83 4.25332C13.5878 4.01109 13.2592 3.875 12.9167 3.875H5.16667C4.8241 3.875 4.49555 4.01109 4.25332 4.25332C4.01109 4.49555 3.875 4.8241 3.875 5.16667V15.5C3.875 15.8426 4.01109 16.1711 4.25332 16.4133C4.49555 16.6556 4.8241 16.7917 5.16667 16.7917ZM3.875 25.8333C3.875 26.1759 4.01109 26.5044 4.25332 26.7467C4.49555 26.9889 4.8241 27.125 5.16667 27.125H12.9167C13.2592 27.125 13.5878 26.9889 13.83 26.7467C14.0722 26.5044 14.2083 26.1759 14.2083 25.8333V20.6667C14.2083 20.3241 14.0722 19.9956 13.83 19.7533C13.5878 19.5111 13.2592 19.375 12.9167 19.375H5.16667C4.8241 19.375 4.49555 19.5111 4.25332 19.7533C4.01109 19.9956 3.875 20.3241 3.875 20.6667V25.8333ZM16.7917 25.8333C16.7917 26.1759 16.9278 26.5044 17.17 26.7467C17.4122 26.9889 17.7408 27.125 18.0833 27.125H25.8333C26.1759 27.125 26.5044 26.9889 26.7467 26.7467C26.9889 26.5044 27.125 26.1759 27.125 25.8333V16.7917C27.125 16.4491 26.9889 16.1206 26.7467 15.8783C26.5044 15.6361 26.1759 15.5 25.8333 15.5H18.0833C17.7408 15.5 17.4122 15.6361 17.17 15.8783C16.9278 16.1206 16.7917 16.4491 16.7917 16.7917V25.8333ZM18.0833 12.9167H25.8333C26.1759 12.9167 26.5044 12.7806 26.7467 12.5383C26.9889 12.2961 27.125 11.9676 27.125 11.625V5.16667C27.125 4.8241 26.9889 4.49555 26.7467 4.25332C26.5044 4.01109 26.1759 3.875 25.8333 3.875H18.0833C17.7408 3.875 17.4122 4.01109 17.17 4.25332C16.9278 4.49555 16.7917 4.8241 16.7917 5.16667V11.625C16.7917 11.9676 16.9278 12.2961 17.17 12.5383C17.4122 12.7806 17.7408 12.9167 18.0833 12.9167Z" fill="#CF2E06"/>
        </svg>
        <H1>DASHBOARD</H1>
    </div>
    <form class="flexCards" method="post" enctype="multipart/form-data">
        <div class="cardMain">
            <h1>
                <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.69089 13.778L9.06089 13.288C9.07461 13.1926 9.0823 13.0964 9.08389 13C9.08495 12.9031 9.07692 12.8064 9.05989 12.711L9.68489 12.221C9.71138 12.1984 9.72938 12.1675 9.73592 12.1333C9.74247 12.0992 9.73717 12.0638 9.72089 12.033L9.13089 11.013C9.11305 10.9822 9.08485 10.9588 9.05133 10.9469C9.01781 10.935 8.98115 10.9354 8.94789 10.948L8.21789 11.243C8.06534 11.123 7.89627 11.0257 7.71589 10.954L7.60389 10.176C7.59993 10.1415 7.58331 10.1098 7.55726 10.0869C7.53121 10.064 7.49758 10.0515 7.46289 10.052H6.28289C6.2478 10.0524 6.21393 10.065 6.1871 10.0876C6.16027 10.1102 6.14217 10.1415 6.13589 10.176L6.02389 10.954C5.84595 11.0298 5.67802 11.1272 5.52389 11.244L4.79189 10.948C4.75856 10.9362 4.72218 10.9362 4.68886 10.948C4.65553 10.9599 4.6273 10.9828 4.60889 11.013L4.01889 12.033C4.00097 12.0635 3.99474 12.0995 4.00136 12.1343C4.00798 12.169 4.02701 12.2002 4.05489 12.222L4.67989 12.712C4.65635 12.9036 4.65635 13.0974 4.67989 13.289L4.05489 13.779C4.02857 13.8017 4.01076 13.8327 4.0044 13.8669C3.99804 13.901 4.00351 13.9364 4.01989 13.967L4.60989 14.987C4.6277 15.0176 4.65573 15.0408 4.68903 15.0527C4.72233 15.0646 4.75876 15.0644 4.79189 15.052L5.52289 14.757C5.67513 14.8769 5.84387 14.9743 6.02389 15.046L6.13589 15.824C6.14144 15.8591 6.15948 15.8909 6.18668 15.9137C6.21388 15.9365 6.24841 15.9487 6.28389 15.948H7.46289C7.49799 15.9477 7.53186 15.9351 7.55869 15.9124C7.58551 15.8898 7.60362 15.8585 7.60989 15.824L7.72189 15.046C7.89896 14.9716 8.0654 14.8741 8.21689 14.756L8.95389 15.052C8.98722 15.0638 9.02361 15.0638 9.05693 15.052C9.09026 15.0402 9.11849 15.0172 9.13689 14.987L9.72689 13.967C9.74343 13.9361 9.74887 13.9005 9.74232 13.8661C9.73577 13.8318 9.71761 13.8006 9.69089 13.778V13.778ZM6.87289 13.884C6.6981 13.8838 6.52728 13.8318 6.38204 13.7345C6.2368 13.6373 6.12365 13.4992 6.0569 13.3376C5.99014 13.1761 5.97278 12.9984 6.007 12.8269C6.04122 12.6555 6.1255 12.4981 6.24916 12.3746C6.37283 12.2511 6.53035 12.167 6.7018 12.1329C6.87325 12.0989 7.05094 12.1165 7.21242 12.1834C7.37389 12.2503 7.51189 12.3636 7.60898 12.509C7.70607 12.6543 7.75789 12.8252 7.75789 13C7.75803 13.1162 7.73522 13.2313 7.69078 13.3387C7.64634 13.4461 7.58114 13.5436 7.49892 13.6257C7.4167 13.7079 7.31907 13.773 7.21165 13.8173C7.10422 13.8616 6.9891 13.8843 6.87289 13.884V13.884Z" fill="white"/>
                    <path d="M10 0H2C1.47005 0.00158273 0.962265 0.212805 0.587535 0.587535C0.212805 0.962265 0.00158273 1.47005 0 2V18C0.00158273 18.5299 0.212805 19.0377 0.587535 19.4125C0.962265 19.7872 1.47005 19.9984 2 20H14C14.5299 19.9984 15.0377 19.7872 15.4125 19.4125C15.7872 19.0377 15.9984 18.5299 16 18V6L10 0ZM14 18H2V2H9V7H14V18Z" fill="white"/>
                </svg>
                Configuration
            </h1>
            <div class="content">
                <img src=<?= $post->img == null ? "http://via.placeholder.com/200x120" : "imgdata/$post->img"?>
                class="image"
                alt="Image">

                <div class="selectImg">
                    <label for="file" class="label-file">
                        <svg width="629" height="567" viewBox="0 0 629 567" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M251.6 346.4H377.4V157.7H471.749L314.5 0.450012L157.25 157.7H251.6V346.4ZM608.18 394.581C601.575 387.537 557.514 340.393 544.934 328.096C536.118 319.646 524.374 314.934 512.163 314.95H456.905L553.268 409.111H441.809C440.294 409.083 438.799 409.455 437.474 410.19C436.149 410.924 435.04 411.995 434.261 413.294L408.598 472.2H220.401L194.738 413.294C193.954 411.999 192.845 410.932 191.521 410.198C190.196 409.465 188.704 409.09 187.19 409.111H75.7311L172.062 314.95H116.836C104.351 314.95 92.4311 319.951 84.0654 328.096C71.4854 340.424 27.4239 387.568 20.8194 394.581C5.44038 410.967 -3.01966 424.019 1.00594 440.152L18.6494 536.83C22.675 552.995 40.3813 566.267 58.0248 566.267H571.037C588.681 566.267 606.387 552.995 610.413 536.83L628.056 440.152C632.019 424.019 623.59 410.967 608.18 394.581V394.581Z" />
                        </svg>
                        Choisir une image
                    </label>
                    <input class="input-file" type="file" id="file" name="file">
                </div>

                <?= $form->input('title', 'Titre de l\'article') ?>
                <?= $form->select('category_id', 'Catégorie', $categories) ?>
            </div>
        </div>

        <div class="cardContaine">
            <h1>
                <svg width="20" height="20" viewBox="0 0 283 283" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g filter="url(#filter0_d)">
                    <path d="M274.191 34.3137C275.844 35.9714 276.771 38.2167 276.771 40.5574C276.771 42.8981 275.844 45.1433 274.191 46.8011L255.743 65.2668L220.368 29.8918L238.816 11.4261C240.474 9.76811 242.723 8.83673 245.069 8.83673C247.414 8.83673 249.663 9.76811 251.321 11.4261L274.191 34.296V34.3137ZM243.238 77.7542L207.863 42.3792L87.3579 162.902C86.3845 163.875 85.6516 165.062 85.2177 166.369L70.9793 209.066C70.7211 209.845 70.6844 210.679 70.8734 211.478C71.0624 212.276 71.4696 213.005 72.0495 213.585C72.6294 214.165 73.3592 214.572 74.1572 214.761C74.9553 214.95 75.7902 214.914 76.5686 214.655L119.266 200.417C120.571 199.988 121.758 199.262 122.733 198.295L243.238 77.7719V77.7542Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.6875 238.781C17.6875 245.818 20.4827 252.566 25.4583 257.542C30.4339 262.517 37.1822 265.312 44.2188 265.312H238.781C245.818 265.312 252.566 262.517 257.542 257.542C262.517 252.566 265.312 245.818 265.312 238.781V132.656C265.312 130.311 264.381 128.061 262.722 126.403C261.064 124.744 258.814 123.812 256.469 123.812C254.123 123.812 251.874 124.744 250.215 126.403C248.557 128.061 247.625 130.311 247.625 132.656V238.781C247.625 241.127 246.693 243.376 245.035 245.035C243.376 246.693 241.127 247.625 238.781 247.625H44.2188C41.8732 247.625 39.6238 246.693 37.9653 245.035C36.3068 243.376 35.375 241.127 35.375 238.781V44.2188C35.375 41.8732 36.3068 39.6238 37.9653 37.9653C39.6238 36.3068 41.8732 35.375 44.2188 35.375H159.188C161.533 35.375 163.782 34.4433 165.441 32.7847C167.1 31.1262 168.031 28.8768 168.031 26.5312C168.031 24.1857 167.1 21.9363 165.441 20.2778C163.782 18.6192 161.533 17.6875 159.188 17.6875H44.2188C37.1822 17.6875 30.4339 20.4827 25.4583 25.4583C20.4827 30.4339 17.6875 37.1822 17.6875 44.2188V238.781Z" fill="white"/>
                    </g>
                    <defs>
                    <filter id="filter0_d" x="-4" y="0" width="291" height="291" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                    </filter>
                    </defs>
                </svg>
                Contenu de l'article
            </h1>
            <?= $form->input('content', '', ['type' => 'textarea']) ?>
        </div>

        <div class="cardStatCarac">
            <div class="cardStatistics">
                <h1>
                    <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.143 12.857H0.57V6.43H3.142V12.858L3.143 12.857ZM8.286 12.857H5.714V0H8.286V12.857ZM13.428 12.857H10.857V3.857H13.428V12.857Z" fill="white"/>
                    </svg>
                    Statistiques
                </h1>
                Commentaires: 
                <?= $nbrComments->nbr ?>
            </div>  

            <div class="cardCaracteristics">
                <h1>
                    <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.5 1C15.8371 1.00053 15.2015 1.26409 14.7328 1.73282C14.2641 2.20155 14.0005 2.83712 14 3.5C14 3.857 14.078 4.196 14.214 4.505L12.259 6.704C11.5949 6.24558 10.807 6.00004 10 6C9.26 6 8.576 6.216 7.981 6.566L5.707 4.293L5.684 4.316C5.88 3.918 6 3.475 6 3C6 2.40666 5.82405 1.82664 5.49441 1.33329C5.16477 0.839943 4.69623 0.455426 4.14805 0.228363C3.59987 0.00129986 2.99667 -0.0581102 2.41473 0.0576455C1.83279 0.173401 1.29824 0.459124 0.878681 0.878681C0.459124 1.29824 0.173401 1.83279 0.0576455 2.41473C-0.0581102 2.99667 0.00129986 3.59987 0.228363 4.14805C0.455426 4.69623 0.839943 5.16477 1.33329 5.49441C1.82664 5.82405 2.40666 6 3 6C3.475 6 3.917 5.88 4.316 5.684L4.293 5.707L6.567 7.98C6.19964 8.59003 6.00375 9.28791 6 10C6 10.997 6.38 11.899 6.985 12.601L4.408 15.177C4.11917 15.0614 3.81111 15.0013 3.5 15C2.122 15 1 16.121 1 17.5C1 18.879 2.122 20 3.5 20C4.878 20 6 18.879 6 17.5C6 17.179 5.934 16.874 5.823 16.591L8.661 13.753C9.082 13.903 9.528 14 10 14C12.206 14 14 12.206 14 10C14 9.364 13.837 8.771 13.572 8.236L15.689 5.853C15.945 5.941 16.215 6 16.5 6C17.879 6 19 4.879 19 3.5C19 2.121 17.879 1 16.5 1ZM10 12C8.897 12 8 11.103 8 10C8 8.897 8.897 8 10 8C11.103 8 12 8.897 12 10C12 11.103 11.103 12 10 12Z" fill="white"/>
                    </svg>
                    Caractéristiques
                </h1> 
            </div> 
        </div> 
        
        <?php if(!empty($comments)):?>
            <div class="cardComments">
                <table> 
                    <thead>
                        <tr>
                            <td>ID</td>
                            <td>Nom</td>
                            <td>Commentaire</td>
                            <td>Mail</td>
                            <td>Date</td>
                        </tr>
                    </thead>
                    <tbody> 
                        <?php foreach($comments as $comment): ?>
                            <tr>
                                <td><?= $comment->id ?></td>
                                <td><?= $comment->name ?></td>
                                <td><?= $comment->decodeJson($comment->comment) ?></td>
                                <td><?= $comment->mail ?></td>
                                <td><?= $comment->getdate()->format('d-m-y') ?></td>
                            </tr>
                        <?php endforeach ?>  
                    </tbody>
                </table> 
            </div>
        <?php endif ?>
        
        <button class="btn_primary">Sauvegarder</button>
    </form>
</div> 